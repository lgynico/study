# 虚拟机安装 Linux

## 重要事项
### 网络连接模式
|名称|作用|备注|
|:--|:--|:--|
|桥接模式|虚拟机网卡直接物理机网卡|与物理机网段一样|
|NAT 模式|虚拟机连接 VMnet8，通过 VMnet8 与物理机网卡进行通讯|独立网段|
|Host-Only 模式|虚拟机连接 VMnet1，通过 VMnet1 与物理机网卡进行通讯|无法访问互联网(局域网)|


## VMWare 安装 CentOS7
### 1. 新建虚拟机
1. 新建虚拟机，选择 Linux，版本选择 CentOS 7 64位
2. 自定义硬件，分配好足够的内存和处理器，删除不必要的虚拟硬件 (声卡，USB等)
3. 网络适配器选择 NAT 模式
4. 完成后开启虚拟机，进入安装界面

### 2. 安装 CentOS7
1. 选择 Install CentOS 7
2. 进入图形安装界面，需要更改的地方：
    - 时区：Asia/Shanghai
    - 网络：选择 IPv4，手动，增加地址 [Address:192.168.0.10, Netmask:24, Gateway:192.168.0.254]，设置 DNS servers 233.5.5.5，保存之后开启网络
3. 开始安装系统，设置 root 用户和普通用户，安装完成后重启

### 3. 设置网络
1. 设置 VMware 网络
    - 编辑 -> 虚拟机网络编辑器，点击 VMnet8
    - 取消 "使用本地 DHCP 服务将 IP 地址分配给虚拟机"，以使用我们手动设置的 IP 地址
    - 设置子网 IP: 192.168.0.0, 子网掩码：255.255.255.0, 与安装系统时手动设置的一致
    - 点击 NAT 设置，将网关 IP 设置为 192.168.0.254，与安装系统时手动设置的一致
2. 设置物理机 VMnet8 的 IP 地址，使用物理机可以连接虚拟机
    - 打开"网络和 Internal"设置，选择"更改适配器选项"
    - 双击 VMnet8，属性，选择 (TCP/IPv4)
    - 使用下面的 IP 地址：[IP 地址: 192.168.0.1, 子网掩码: 255.255.255.0, 默认网关: 192.168.0.254] 与 VMware 设置一致
    - 使用下面的 DNS 服务器地址：[首选 DNS 服务器: 223.5.5.5, 备用 DNS 服务器: 8.8.8.8]